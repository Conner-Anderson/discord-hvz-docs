
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../server_setup/">
      
      
        <link rel="next" href="../commands/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.0">
    
    
      
        <title>Customized Chatbots - Discord-HVZ Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.402914a4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Open Sans";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="green">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#customized-chatbots" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
  You're not viewing the latest version.
  <a href="../.."> 
    <strong>Click here to go to latest.</strong>
  </a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Discord-HVZ Docs" class="md-header__button md-logo" aria-label="Discord-HVZ Docs" data-md-component="logo">
      
  <img src="../img/avatar.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Discord-HVZ Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Customized Chatbots
            
          </span>
        </div>
      </div>
    </div>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Discord-HVZ Docs" class="md-nav__button md-logo" aria-label="Discord-HVZ Docs" data-md-component="logo">
      
  <img src="../img/avatar.png" alt="logo">

    </a>
    Discord-HVZ Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Guides
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../running_the_game/" class="md-nav__link">
        Running the Game
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Setup
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Setup
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../server_setup/" class="md-nav__link">
        Server Setup
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Customized Chatbots
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Customized Chatbots
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#beginning" class="md-nav__link">
    Beginning
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modal-chatbots" class="md-nav__link">
    Modal Chatbots
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#script-fields" class="md-nav__link">
    Script Fields
  </a>
  
    <nav class="md-nav" aria-label="Script Fields">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#script-title" class="md-nav__link">
    &lt;script title&gt;
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table" class="md-nav__link">
    table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modal" class="md-nav__link">
    modal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modal_title" class="md-nav__link">
    modal_title
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#beginning_1" class="md-nav__link">
    beginning
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ending" class="md-nav__link">
    ending
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#starting_processor" class="md-nav__link">
    starting_processor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#starting_processor_1" class="md-nav__link">
    starting_processor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#postable_button_color" class="md-nav__link">
    postable_button_color
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#postable_button_label" class="md-nav__link">
    postable_button_label
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#questions" class="md-nav__link">
    questions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#question-fields" class="md-nav__link">
    Question Fields
  </a>
  
    <nav class="md-nav" aria-label="Question Fields">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#column" class="md-nav__link">
    column
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#display_name" class="md-nav__link">
    display_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query" class="md-nav__link">
    query
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#valid_regex" class="md-nav__link">
    valid_regex
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rejection_response" class="md-nav__link">
    rejection_response
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#button_options" class="md-nav__link">
    button_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modal_default" class="md-nav__link">
    modal_default
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modal_long" class="md-nav__link">
    modal_long
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#processor" class="md-nav__link">
    processor
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-or-remove-questions" class="md-nav__link">
    Add or Remove Questions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-processors" class="md-nav__link">
    Custom Processors
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../commands/" class="md-nav__link">
        Commands
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../config_options/" class="md-nav__link">
        Config Options
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#beginning" class="md-nav__link">
    Beginning
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modal-chatbots" class="md-nav__link">
    Modal Chatbots
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#script-fields" class="md-nav__link">
    Script Fields
  </a>
  
    <nav class="md-nav" aria-label="Script Fields">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#script-title" class="md-nav__link">
    &lt;script title&gt;
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table" class="md-nav__link">
    table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modal" class="md-nav__link">
    modal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modal_title" class="md-nav__link">
    modal_title
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#beginning_1" class="md-nav__link">
    beginning
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ending" class="md-nav__link">
    ending
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#starting_processor" class="md-nav__link">
    starting_processor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#starting_processor_1" class="md-nav__link">
    starting_processor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#postable_button_color" class="md-nav__link">
    postable_button_color
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#postable_button_label" class="md-nav__link">
    postable_button_label
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#questions" class="md-nav__link">
    questions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#question-fields" class="md-nav__link">
    Question Fields
  </a>
  
    <nav class="md-nav" aria-label="Question Fields">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#column" class="md-nav__link">
    column
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#display_name" class="md-nav__link">
    display_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query" class="md-nav__link">
    query
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#valid_regex" class="md-nav__link">
    valid_regex
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rejection_response" class="md-nav__link">
    rejection_response
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#button_options" class="md-nav__link">
    button_options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modal_default" class="md-nav__link">
    modal_default
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modal_long" class="md-nav__link">
    modal_long
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#processor" class="md-nav__link">
    processor
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-or-remove-questions" class="md-nav__link">
    Add or Remove Questions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-processors" class="md-nav__link">
    Custom Processors
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="customized-chatbots">Customized Chatbots<a class="headerlink" href="#customized-chatbots" title="Permanent link">&para;</a></h1>
<p><strong>Before reading this page, you should be familiar<br />
 with everything on the <a href="../running_the_game">Running the Game</a> page.</strong></p>
<h2 id="beginning">Beginning<a class="headerlink" href="#beginning" title="Permanent link">&para;</a></h2>
<p><strong>Chatbots</strong> follow <strong>scripts</strong> which are a series of <strong>questions</strong> with information on what to do with the answers. Scripts also have accompanying information on what to do with the entire set of answers, and what to say to the target member. Think of a script like the piece of paper a survey-taker would use.</p>
<p>Every script requires a <strong>table</strong> in the bot's database, where every row is one completed chatbot. Every question needs a column on the table to store the answer.</p>
<p>The two big, default, <em>required</em> chatbots are <code>registration</code> and <code>tag_logging</code>. Your HvZ game is unique, and requires questions phrased for your situation. By default, the registration script comes with a question for the member's CPO number (that's the school post-box address). Well, your game may not need that. This page will teach you how to remove that question, add new ones, and customize other things in these chatbot scripts.</p>
<p>Scripts are stored in the <code>scripts.yml</code> file, written in the YAML configuration language. It is recommended to use a code editor such as <a href="https://notepad-plus-plus.org/downloads/">Notepad++</a> or one one of many other options.</p>
<h2 id="modal-chatbots">Modal Chatbots<a class="headerlink" href="#modal-chatbots" title="Permanent link">&para;</a></h2>
<p>There are two types of chatbots: <strong>modal</strong> and <strong>non-modal</strong>. A modal chatbot shows the user a pop-up window that contains all the questions of the script. By default, the <code>tag_logging</code> chatbot is modal. Modal chatbots are faster to use—especially on mobile—but have tighter restrictions than non-modal.</p>
<p><strong>Modal Example:</strong></p>
<p><img alt="Sheet ID" src="../img/modal_example.webp" /></p>
<div class="admonition info">
<p class="admonition-title">Modal Restrictions</p>
<p>All valid modal chatbots are also valid non-modal chatbots, except for the <code>modal: true</code> field.</p>
<ul>
<li>No more than 5 questions</li>
<li>No more than 45 characters in a question query</li>
<li>No <a href="#button_options">button_options</a> to select answers</li>
</ul>
</div>
<details class="example">
<summary>Example Modal Script</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nt">tag_logging</span><span class="p">:</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w">  </span><span class="nt">table</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tags</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="w">  </span><span class="nt">modal</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">  </span><span class="nt">beginning</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Let&#39;s log a tag. Type &#39;cancel&#39; at any time to stop this conversation.</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="w">  </span><span class="nt">ending</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Tag logged! Make sure your newly-brainless friend feels welcome in the hoard.</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="w">  </span><span class="nt">starting_processor</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tag_logging_start</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="w">  </span><span class="nt">ending_processor</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tag_logging_end</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="w">  </span><span class="nt">questions</span><span class="p">:</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">column</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tagged_id</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="w">    </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Tag Code</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="w">    </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">What is the tag code of the human you tagged?</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="w">    </span><span class="nt">valid_regex</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;[a-zA-Z\d]{6}&#39;</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="w">    </span><span class="nt">rejection_response</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Invalid</span><span class="nv"> </span><span class="s">tag</span><span class="nv"> </span><span class="s">code.</span><span class="nv"> </span><span class="s">The</span><span class="nv"> </span><span class="s">tag</span><span class="nv"> </span><span class="s">code</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">6</span><span class="nv"> </span><span class="s">characters</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">numbers</span><span class="nv"> </span><span class="s">and</span><span class="nv"> </span><span class="s">capital</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="w">      </span><span class="s">letters.</span><span class="nv"> </span><span class="s">None</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">these:</span><span class="nv"> </span><span class="s">0</span><span class="nv"> </span><span class="s">O</span><span class="nv"> </span><span class="s">Q</span><span class="nv"> </span><span class="s">I</span><span class="nv"> </span><span class="s">1</span><span class="nv"> </span><span class="s">D</span><span class="nv"> </span><span class="s">V</span><span class="nv"> </span><span class="s">U</span><span class="nv"> </span><span class="s">5</span><span class="nv"> </span><span class="s">S</span><span class="nv"> </span><span class="s">2</span><span class="nv"> </span><span class="s">Z&#39;</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="w">    </span><span class="nt">processor</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tag_code_to_member_id</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">column</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tag_time</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="w">    </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Tag Time</span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a><span class="w">    </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;About</span><span class="nv"> </span><span class="s">when</span><span class="nv"> </span><span class="s">did</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">tag</span><span class="nv"> </span><span class="s">happen?</span><span class="nv"> </span><span class="s">Format:</span><span class="nv"> </span><span class="s">3:04pm&quot;</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="w">    </span><span class="nt">valid_regex</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;(?i)\d{1,2}:[0-5]?[0-9]\s?(am|pm)\s?(yesterday)?&#39;</span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a><span class="w">    </span><span class="nt">rejection_response</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Please use a format like 12:26pm or 7:00 am</span>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a><span class="w">    </span><span class="nt">modal_default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Current_Time</span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a><span class="w">    </span><span class="nt">processor</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tag_time</span>
</code></pre></div>
</details>
<p><strong>Coming Up</strong></p>
<ul>
<li>Edit script fields</li>
<li>Add or remove questions</li>
<li>Add chatbots</li>
</ul>
<h2 id="script-fields">Script Fields<a class="headerlink" href="#script-fields" title="Permanent link">&para;</a></h2>
<p>Changing text your users see in a chatbot is the easiest thing. Find a phrase in the script and edit it. Surround your text in single quotes if you need to use any of the following special characters: <code>:-{}[]!#|&gt;&amp;%@</code>, or if your text is only "yes", "no", "true", "false", or something similar.</p>
<p>See a <code>|-</code> in the file? That means what comes next is a multi-line piece of text that the bot should see as literally multiple lines.</p>
<p>If you are unsure about using unusual text, read <a href="https://docs.octoprint.org/en/master/configuration/yaml.html">this reference.</a></p>
<p>Below is an example of a functional tag_logging script similar to the one the bot comes with by default. You can use this as reference as you read onward.</p>
<p>Any field marked as <strong>Optional</strong> can be omitted entirely and the bot will use some default instead.<br />
The order of the fields does not matter, except that questions are displayed in the order they appear.</p>
<details class="example">
<summary>Example tag_logging Script</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="nt">tag_logging</span><span class="p">:</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="w">  </span><span class="nt">table</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tags</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w">  </span><span class="nt">beginning</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Let&#39;s log a tag. Type &#39;cancel&#39; at any time to stop this conversation.</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">  </span><span class="nt">ending</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Tag logged! Make sure your newly-brainless friend feels welcome in the hoard.</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="w">  </span><span class="nt">starting_processor</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tag_logging_start</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="w">  </span><span class="nt">ending_processor</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tag_logging_end</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="w">  </span><span class="nt">questions</span><span class="p">:</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">column</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tagged_id</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="w">    </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Tag Code</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="w">    </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">What is the tag code of the human you tagged?</span>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="w">    </span><span class="nt">valid_regex</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;[a-zA-Z\d]{6}&#39;</span>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="w">    </span><span class="nt">rejection_response</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;The</span><span class="nv"> </span><span class="s">tag</span><span class="nv"> </span><span class="s">code</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">6</span><span class="nv"> </span><span class="s">characters</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">numbers</span><span class="nv"> </span><span class="s">and</span><span class="nv"> </span><span class="s">capital</span>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="w">      </span><span class="s">letters.</span><span class="nv"> </span><span class="s">None</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">these:</span><span class="nv"> </span><span class="s">0</span><span class="nv"> </span><span class="s">O</span><span class="nv"> </span><span class="s">Q</span><span class="nv"> </span><span class="s">I</span><span class="nv"> </span><span class="s">1</span><span class="nv"> </span><span class="s">D</span><span class="nv"> </span><span class="s">V</span><span class="nv"> </span><span class="s">U</span><span class="nv"> </span><span class="s">5</span><span class="nv"> </span><span class="s">S</span><span class="nv"> </span><span class="s">2</span><span class="nv"> </span><span class="s">Z&#39;</span>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a><span class="w">    </span><span class="nt">processor</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tag_code_to_member_id</span>
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">column</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tag_time</span>
<a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a><span class="w">    </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Tag Time</span>
<a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a><span class="w">    </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">About what time did the tag happen? Use the format 3:04pm. If it was yesterday, add &quot;yesterday&quot; to the end.</span>
<a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a><span class="w">    </span><span class="nt">valid_regex</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;(?i)\d{1,2}:[0-5]?[0-9]\s?(am|pm)\s?(yesterday)?&#39;</span>
<a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a><span class="w">    </span><span class="nt">rejection_response</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Please use a format like 12:26pm or 7:00 am</span>
<a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a><span class="w">    </span><span class="nt">processor</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tag_time</span>
</code></pre></div>
</details>
<details class="info">
<summary>Concise Field Reference.</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="nt">script_name</span><span class="p">:</span><span class="w"> </span><span class="c1"># Name of the script. Only for organization. Required, unique.</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w">  </span><span class="nt">table</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">members</span><span class="w"> </span><span class="c1"># Required, unique</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">  </span><span class="nt">beginning</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Registration started!</span><span class="w"> </span><span class="c1"># Message that appears when the chatbot starts. Optional.</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">  </span><span class="nt">ending</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Welcome to HvZ!</span><span class="w"> </span><span class="c1"># Message that appears when the chatbot ends. Optional.</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="w">  </span><span class="nt">starting_processor</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">some_function</span><span class="w"> </span><span class="c1"># Described later in this document. Optional.</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="w">  </span><span class="nt">ending_processor</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">another_function</span><span class="w"> </span><span class="c1"># Described later in this document. Optional.</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="w">  </span><span class="nt">postable_button_color</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">green</span><span class="w"> </span><span class="c1"># Chatbot button color: green, red, blurple, gray, or url. Optional.</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="w">  </span><span class="nt">postable_button_label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Click Me!</span><span class="w"> </span><span class="c1"># Visible label on the chatbot button. Optional.</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="w">  </span><span class="nt">questions</span><span class="p">:</span><span class="w"> </span><span class="c1"># A list of the questions. Required.</span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">column</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">favorite_color</span><span class="w"> </span><span class="c1"># The database column the answer will go in. No spaces, lower case. Required, unique per script.</span>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="w">    </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Favorite Color</span><span class="w"> </span><span class="c1"># The name of the question the user will see. Required.</span>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="w">    </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Favorite color?</span><span class="w"> </span><span class="c1"># The question text. Required.</span>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="w">    </span><span class="nt">valid_regex</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;\D*&#39;</span><span class="w"> </span><span class="c1"># The regex the answer must satisfy. Optional.</span>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="w">    </span><span class="nt">button_options</span><span class="p">:</span><span class="w"> </span><span class="c1"># A list of buttons with pre-selected responses with button colors. Optional, all must pass regex.</span>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a><span class="w">      </span><span class="s">&#39;Green&#39;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">green</span><span class="w"> </span><span class="c1"># The right value (green) can be blurple, gray, green, red, or url</span>
<a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a><span class="w">      </span><span class="s">&#39;Periwinkle&#39;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">red</span><span class="w"> </span><span class="c1"># &#39;Periwinkle&#39; is the literal text response. </span>
<a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a><span class="w">    </span><span class="nt">rejection_response</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">No numbers allowed in colors.</span><span class="w"> </span><span class="c1"># Response if the answer fails the regex test. Required if there is &quot;valid_regex&quot;</span>
<a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a><span class="w">    </span><span class="nt">processor</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">favorite_color</span><span class="w"> </span><span class="c1"># Described later in this document. Optional</span>
</code></pre></div>
</details>
<h3 id="script-title"><code>&lt;script title&gt;</code><a class="headerlink" href="#script-title" title="Permanent link">&para;</a></h3>
<p>Required, unique</p>
<p>In the example above, the word <code>tag_logging</code> at the top declares that everything indented beneath it is the tag_logging script. If this name changes, any existing buttons for this chatbot will break. This should be lowercase and without spaces.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Currently, you <em>must</em> have a script titled "tag_logging" and one titled "registration" for the<br />
<a href="../commands/#tag_create">/tag create</a> &amp; <a href="../commands/#member_register">/member register</a> commands to function.</p>
</div>
<h3 id="table"><code>table</code><a class="headerlink" href="#table" title="Permanent link">&para;</a></h3>
<p>Required, unique.<br />
Which table the script will be saved to. This table must be defined in the config file; see <a href="../config_options/#database_tables">Config Options: database_tables</a></p>
<h3 id="modal"><code>modal</code><a class="headerlink" href="#modal" title="Permanent link">&para;</a></h3>
<p>Optional, either <code>true</code> or <code>false</code><br />
Is this a modal chatbot? <a href="#modal-chatbots">See above</a> for restrictions. If this field is missing, it is <code>false</code>.</p>
<h3 id="modal_title"><code>modal_title</code><a class="headerlink" href="#modal_title" title="Permanent link">&para;</a></h3>
<p>Optional, modal only, default: value of <code>&lt;script title&gt;</code><br />
The heading shown at the top of a modal. Max 45 characters.</p>
<h3 id="beginning_1"><code>beginning</code><a class="headerlink" href="#beginning_1" title="Permanent link">&para;</a></h3>
<p>Optional, non-modal only<br />
default: <code>"Starting chatbot. Reply with 'cancel' at any time to stop.</code><br />
A message sent when the chatbot starts. It should inform the user that they can type "cancel" to stop the chatbot as well.</p>
<h3 id="ending"><code>ending</code><a class="headerlink" href="#ending" title="Permanent link">&para;</a></h3>
<p>Optional, default: <code>"Chatbot complete!"</code><br />
A message sent when the chatbot ends. Preferably, it should tell the player what they ought to do next.</p>
<h3 id="starting_processor"><code>starting_processor</code><a class="headerlink" href="#starting_processor" title="Permanent link">&para;</a></h3>
<p>Optional<br />
The name of the starting processor function the script should use. Processors are described further below. If you make a new script and haven't made a new processor, this should be removed.</p>
<h3 id="starting_processor_1"><code>starting_processor</code><a class="headerlink" href="#starting_processor_1" title="Permanent link">&para;</a></h3>
<p>Optional<br />
The name of the ending processor function the script should use. Processors are described further below. If you make a new script and haven't made a new processor, this should be removed.</p>
<h3 id="postable_button_color"><code>postable_button_color</code><a class="headerlink" href="#postable_button_color" title="Permanent link">&para;</a></h3>
<p>Optional, default: <code>green</code><br />
The color of the button used to start the chatbot. Valid values: <strong>blurple, gray, green, red, url</strong>. These colors are limited by Discord. Green by default.</p>
<h3 id="postable_button_label"><code>postable_button_label</code><a class="headerlink" href="#postable_button_label" title="Permanent link">&para;</a></h3>
<p>Optional, default: same as <code>&lt;script title&gt;</code><br />
The text that appears on the button used to start the chatbot.</p>
<h3 id="questions"><code>questions</code><a class="headerlink" href="#questions" title="Permanent link">&para;</a></h3>
<p>Minimum 1 question<br />
Questions are indented beneath this heading, marked with a <code>-</code> as shown in the example. They are asked in the order listed here.</p>
<h2 id="question-fields">Question Fields<a class="headerlink" href="#question-fields" title="Permanent link">&para;</a></h2>
<h3 id="column"><code>column</code><a class="headerlink" href="#column" title="Permanent link">&para;</a></h3>
<p>Required, unique per script<br />
The database column the question is saves to. When the bot is working with the question, this is effectively its "name". Remember, database column names should be lower case and without spaces. A name like "most_favorite_color" is fine.</p>
<h3 id="display_name"><code>display_name</code><a class="headerlink" href="#display_name" title="Permanent link">&para;</a></h3>
<p>Optional, non-modal only, default: value of <code>column</code><br />
The human-friendly name users are showed when reviewing their responses.</p>
<h3 id="query"><code>query</code><a class="headerlink" href="#query" title="Permanent link">&para;</a></h3>
<p>Required<br />
The text of the question. Make sure it is concise, but unambiguous for best human results. Max 45 characters if modal.</p>
<h3 id="valid_regex"><code>valid_regex</code><a class="headerlink" href="#valid_regex" title="Permanent link">&para;</a></h3>
<p>Optional<br />
Regex means "regular_expression", which is a special language for pattern matching. For example, <code>(?i)(yes|no)</code> is a set of coded symbols that tells the program it needs to match either "yes" or "no", ignoring case.</p>
<p>If <code>valid_regex</code> is provided, the bot will check the question's answer against the regex string, and if it matches <em>completely</em>, the answer is accepted. Note that any leading or trailing whitespace is stripped away from answers before this.</p>
<p>There are many resources online for building regex, including this one: <a href="https://regex101.com/">regex101.com</a></p>
<h3 id="rejection_response"><code>rejection_response</code><a class="headerlink" href="#rejection_response" title="Permanent link">&para;</a></h3>
<p>Required if <code>valid_regex</code> is supplied.<br />
The response the user is sent if their answer fails the regex test. They are given the opportunity to submit another response until they send a valid one.</p>
<h3 id="button_options"><code>button_options</code><a class="headerlink" href="#button_options" title="Permanent link">&para;</a></h3>
<p><em>Optional, non-modal only</em><br />
A list of buttons that will appear with the question, letting a user tap the buttons instead of typing a response. Each button is a response:color pair, where the response is the value the bot will receive, and the color is one of these: <strong>blurple, gray, green, red, url</strong>. <br />
The response text is <em>exactly</em> what the bot will receive and is handled the same as typed text. Thus, the values <strong>must</strong> all pass any <code>valid_regex</code> set.<br />
Follow the format in the below example precisely.</p>
<details class="example">
<summary>Example button_options</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="nt">button_options</span><span class="p">:</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">  </span><span class="s">&#39;Yes&#39;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">green</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">  </span><span class="s">&#39;No&#39;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">red</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w">  </span><span class="s">&#39;Maybe&#39;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">blurple</span>
</code></pre></div>
</details>
<h3 id="modal_default"><code>modal_default</code><a class="headerlink" href="#modal_default" title="Permanent link">&para;</a></h3>
<p><em>Optional, modal only, default: <code>None</code></em><br />
The default value the response field is filled with when the modal is first launched. Can be text, a number, or a <code>true</code> / <code>false</code> value.<br />
If this is set to <code>'current_time'</code>, the field will contain the current time minus one minute.</p>
<h3 id="modal_long"><code>modal_long</code><a class="headerlink" href="#modal_long" title="Permanent link">&para;</a></h3>
<p><em>Optional, modal only, default: <code>false</code></em><br />
If <code>true</code>, the response field is multi-line, suitable for long-form responses, and has a character count. If <code>false</code>, the field is single-line and best for short responses.<br />
In either case, the character limit is 4000.</p>
<h3 id="processor"><code>processor</code><a class="headerlink" href="#processor" title="Permanent link">&para;</a></h3>
<p><em>Optional</em><br />
Processors are an advanced feature described in their own section below. They can replace the functionality of regex, and make many checks that regex can't. They can customize their error responses to users, and transform the response into another form.</p>
<h2 id="add-or-remove-questions">Add or Remove Questions<a class="headerlink" href="#add-or-remove-questions" title="Permanent link">&para;</a></h2>
<p>To add a question, these are the basic steps:</p>
<ul>
<li>Add a new question section to a script in <code>scripts.yml</code> via copy-paste</li>
<li>Edit the values to your liking, making sure to pick a new column name</li>
<li>Add a new column to the <a href="../config_options/#database_tables">database_tables</a> section of <code>config.yml</code></li>
<li>Delete your existing database file <code>hvzdb.db</code> and restart the bot, which will re-create it with your new column.</li>
<li>Test the chatbot!</li>
</ul>
<p>When using copy-paste to add a new question, make sure the indentation lines up. Indentation is made with spaces, not tabs.</p>
<p>When adding a database column to <code>config.yml</code>, you should set the type to <code>String</code> unless you are using processors.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The bot will <em>not</em> add new columns to an existing database. This is called "migration" is and something the bot does not support for safety reasons. If you delete your database, the bot will create a fresh one that includes your new columns. If you need to add new columns without deleting your database, use a database editor such as <a href="https://sqlitebrowser.org/">DB Browser for SQLite</a>.</p>
</div>
<p>You ought to thouroughly test the new question to make sure it looks the way you want, especially if you are using regex or processor functions.</p>
<p>To remove a question, these are the basic steps:</p>
<ul>
<li>Delete the question section in its script in <code>scripts.yml</code></li>
<li>Optional: Remove the column from the database table in <code>config.yml</code>, then delete the database and restart the bot to remake it.</li>
</ul>
<p>Having a database column with no corresponding question is perfectly fine, though it will still appear on the Google Sheet.</p>
<h2 id="custom-processors">Custom Processors<a class="headerlink" href="#custom-processors" title="Permanent link">&para;</a></h2>
<p>A script or question processor is a python function that, given a user response, determines how the bot should react. For example, when a player enters a tag code into the Tag Logging chatbot, the response is sent through a question processor function which finds a match for that code in the database. If there's a match, it returns the tagged player's ID which is saved as the question response. If there's no match, the player is prompted to try again. These processors could be as simple as duplicating the effects of regex, but are intended for creative uses.</p>
<div class="admonition warning">
<p class="admonition-title">Under Construction</p>
<p>Custom processors are a complex feature that could lead to many pitfalls. The documentation still needs to be written. For now, if you want custom functionality, contact the author of Discord-HvZ.</p>
</div>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.sections", "content.tabs.link"], "search": "../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.ce72ebac.min.js"></script>
      
    
  </body>
</html>