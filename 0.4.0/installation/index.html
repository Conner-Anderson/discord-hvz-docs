
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../running_the_game/">
      
      
        <link rel="next" href="../server_setup/">
      
      
      <link rel="icon" href="../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>Installation - Discord-HVZ Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Open Sans";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="green">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#installation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
  You're not viewing the latest version.
  <a href="../.."> 
    <strong>Click here to go to latest.</strong>
  </a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL(".."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Discord-HVZ Docs" class="md-header__button md-logo" aria-label="Discord-HVZ Docs" data-md-component="logo">
      
  <img src="../img/avatar.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Discord-HVZ Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Installation
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Discord-HVZ Docs" class="md-nav__button md-logo" aria-label="Discord-HVZ Docs" data-md-component="logo">
      
  <img src="../img/avatar.png" alt="logo">

    </a>
    Discord-HVZ Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Guides
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../running_the_game/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Running the Game
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Setup
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Setup
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#software-installation" class="md-nav__link">
    <span class="md-ellipsis">
      Software Installation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Software Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#express-install" class="md-nav__link">
    <span class="md-ellipsis">
      Express Install
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced-install" class="md-nav__link">
    <span class="md-ellipsis">
      Advanced Install
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-a-discord-bot" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a Discord Bot
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating a Discord Bot">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setting-up-a-bot-account" class="md-nav__link">
    <span class="md-ellipsis">
      Setting Up a Bot Account
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inviting-the-bot" class="md-nav__link">
    <span class="md-ellipsis">
      Inviting the Bot
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-up-google-sheets" class="md-nav__link">
    <span class="md-ellipsis">
      Setting up Google Sheets
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#final-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Final Steps
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Final Steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#start-the-bot" class="md-nav__link">
    <span class="md-ellipsis">
      Start the Bot
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#updating" class="md-nav__link">
    <span class="md-ellipsis">
      Updating
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../server_setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Server Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../customized_chatbots/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Customized Chatbots
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Commands
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config_options/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Config Options
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#software-installation" class="md-nav__link">
    <span class="md-ellipsis">
      Software Installation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Software Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#express-install" class="md-nav__link">
    <span class="md-ellipsis">
      Express Install
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced-install" class="md-nav__link">
    <span class="md-ellipsis">
      Advanced Install
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-a-discord-bot" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a Discord Bot
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating a Discord Bot">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setting-up-a-bot-account" class="md-nav__link">
    <span class="md-ellipsis">
      Setting Up a Bot Account
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inviting-the-bot" class="md-nav__link">
    <span class="md-ellipsis">
      Inviting the Bot
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-up-google-sheets" class="md-nav__link">
    <span class="md-ellipsis">
      Setting up Google Sheets
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#final-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Final Steps
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Final Steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#start-the-bot" class="md-nav__link">
    <span class="md-ellipsis">
      Start the Bot
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#updating" class="md-nav__link">
    <span class="md-ellipsis">
      Updating
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="installation">Installation <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 20h14v-2H5m14-9h-4V3H9v6H5l7 7z"/></svg></span><a class="headerlink" href="#installation" title="Permanent link">&para;</a></h1>
<p>Discord-HvZ is a Python application that <em>you</em> run yourself on nearly whatever computer you like. There are both Windows and Linux versions available, with a Mac version coming soon.<br />
You must complete all the steps on this page for the bot to launch without errors.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>While setting up and managing your bot, you will have to edit configuration files. It will be more pleasant to edit these with a text editor that understands code, such as <a href="https://notepad-plus-plus.org/downloads/">Notepad++</a>.</p>
</div>
<h2 id="software-installation">Software Installation<a class="headerlink" href="#software-installation" title="Permanent link">&para;</a></h2>
<p>There are two ways to install the software itself:</p>
<div class="admonition tip">
<p class="admonition-title">Express Install</p>
<p><strong>Download a simple executable that runs from a folder.</strong></p>
<p>This is an easy method for those who don't care about viewing or editing the source code. The caveat is that you can't use <a href="../customized_chatbots/#custom-processors">custom script processors</a>, which is an advanced feature that doesn't have documentation yet.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Advanced Install</p>
<p><strong>Install the Python package with all dependencies.</strong></p>
<p>This allows one to edit any of the source code, and use <a href="../customized_chatbots/#custom-processors">custom script processors</a>. For those who intend to tinker with things under the hood, or even contribute to the project.</p>
<p>This install is a more involved process where more things can go wrong. If using Windows, it may even require a 6GB download.</p>
</div>
<details class="info">
<summary>Swapping Between Install Methods</summary>
<p>If you've been using the program with one install method and want to swap,
simply move the critical files between them. <strong>You can't transfer custom script processors to an Express Install.</strong><br />
These are the files you should transfer, if they exist:</p>
<ul>
<li>.env</li>
<li>config.yml</li>
<li>credentials.json</li>
<li>hvzdb.db</li>
<li>scripts.yml</li>
<li>token.json</li>
</ul>
</details>
<h3 id="express-install">Express Install<a class="headerlink" href="#express-install" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">:simple-windows: Windows</label><label for="__tabbed_1_2"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.62 8.35c-.42.28-1.75 1.04-1.95 1.19-.39.31-.75.29-1.14-.01-.2-.16-1.53-.92-1.95-1.19-.48-.31-.45-.7.08-.92 1.64-.69 3.28-.64 4.91.03.49.21.51.6.05.9m7.22 7.28c-.93-2.09-2.2-3.99-3.84-5.66a4.3 4.3 0 0 1-1.06-1.88c-.1-.33-.17-.67-.24-1.01-.2-.88-.29-1.78-.7-2.61-.73-1.58-2-2.4-3.84-2.47-1.81.05-3.16.81-3.95 2.4-.21.43-.36.88-.46 1.34-.17.76-.32 1.55-.5 2.32-.15.65-.45 1.21-.96 1.71-1.61 1.57-2.9 3.37-3.88 5.35-.14.29-.28.58-.37.88-.19.66.29 1.12.99.96.44-.09.88-.18 1.3-.31.41-.15.57-.05.67.35.65 2.15 2.07 3.66 4.24 4.5 4.12 1.56 8.93-.66 9.97-4.58.07-.27.17-.37.47-.27.46.14.93.24 1.4.35.49.09.85-.16.92-.64.03-.26-.06-.49-.16-.73"/></svg></span> Linux</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ol>
<li>Download the latest "Express Install" .zip for Windows from <a href="https://github.com/Conner-Anderson/discord-hvz/releases" target="_blank">Releases</a></li>
<li>Unzip it to a convenient folder you intend to run the bot from.</li>
<li>Run <strong>Discord-HvZ.exe</strong>. The app should open, then close with an error because there are still setup steps to complete. Start with <a href="#creating-a-discord-bot">Creating a Discord Bot</a></li>
</ol>
<details class="tip">
<summary>Alternate Start Method</summary>
<p>If you'd like the terminal window to <strong>stay open</strong> between runs of the bot so you can read errors easier, you'll have to start it from a terminal.<br />
In File Explorer, go inside the install folder, click once in the address bar, type <code>cmd</code> or <code>powershell</code>, then hit Enter.<br />
Now type <code>.\Discord-HvZ.exe</code> and hit Enter. The bot will start. Use Ctrl + C to force shutdown the bot. Use the Up arrow key and Enter to restart it.</p>
</details>
</div>
<div class="tabbed-block">
<ol>
<li>Download the latest "Express Install" .zip for Linux from <a href="https://github.com/Conner-Anderson/discord-hvz/releases" target="_blank">Releases</a></li>
<li>Unzip it to a convenient folder you intend to run the bot from.</li>
<li>Run <strong>Discord-HvZ</strong> through a command window. (Otherwise, the program runs without a window, which is a Linux problem.) The app should open, then close with an error because there are still setup steps to complete. Start with <a href="#creating-a-discord-bot">Creating a Discord Bot</a></li>
</ol>
</div>
</div>
</div>
<h3 id="advanced-install">Advanced Install<a class="headerlink" href="#advanced-install" title="Permanent link">&para;</a></h3>
<details class="warning">
<summary>Advanced Install Instructions</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">:simple-windows: Windows</label><label for="__tabbed_2_2"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.62 8.35c-.42.28-1.75 1.04-1.95 1.19-.39.31-.75.29-1.14-.01-.2-.16-1.53-.92-1.95-1.19-.48-.31-.45-.7.08-.92 1.64-.69 3.28-.64 4.91.03.49.21.51.6.05.9m7.22 7.28c-.93-2.09-2.2-3.99-3.84-5.66a4.3 4.3 0 0 1-1.06-1.88c-.1-.33-.17-.67-.24-1.01-.2-.88-.29-1.78-.7-2.61-.73-1.58-2-2.4-3.84-2.47-1.81.05-3.16.81-3.95 2.4-.21.43-.36.88-.46 1.34-.17.76-.32 1.55-.5 2.32-.15.65-.45 1.21-.96 1.71-1.61 1.57-2.9 3.37-3.88 5.35-.14.29-.28.58-.37.88-.19.66.29 1.12.99.96.44-.09.88-.18 1.3-.31.41-.15.57-.05.67.35.65 2.15 2.07 3.66 4.24 4.5 4.12 1.56 8.93-.66 9.97-4.58.07-.27.17-.37.47-.27.46.14.93.24 1.4.35.49.09.85-.16.92-.64.03-.26-.06-.49-.16-.73"/></svg></span> Linux</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>These instructions assume you have already installed Python programs before.</p>
<ol>
<li>
<p>Download an "Source code" .zip for Windows from <a href="https://github.com/Conner-Anderson/discord-hvz/releases" target="_blank">Releases</a> <strong>OR</strong> download the project directly from the branch you want. Unzip it to a convenient folder you intend to run the bot from.</p>
</li>
<li>
<p>Install any <a href="https://www.python.org/downloads/" target="_blank">Python</a> version from  3.9.7 to 3.10.x. If helping with development, use 3.9.x. Open a command prompt and use <code>python --version</code> to see what you already have installed, if anything.</p>
</li>
<li>
<p>The below steps are how to install the project's dependencies from a <code>pyproject.toml</code> file with <a href="https://python-poetry.org/docs/" target="_blank"><code>Poetry</code></a>. There are other ways to do this which you are welcome to try.</p>
</li>
<li>
<p>Unfortunately, to compile C code that's a part of many Python modules, you need this ~6 GB software from Microsoft. Download the <a href="https://visualstudio.microsoft.com/downloads/#build-tools-for-visual-studio-2022" target="_blank">Build Tools for Visual Studio Installer</a>. Launch it, select <strong>Desktop Development</strong>, then install the minimum items as shown: </p>
<p><img alt="Build Tools" src="../img/build_tools.png" /></p>
</li>
<li>
<p>To install <code>Poetry</code> without polluting your system with its dependencies, use the following commands in your command prompt to install pipx for your user account. The second command lets you use the <a href="https://pypa.github.io/pipx/installation/" target="_blank"><code>pipx</code></a> module directly from the command prompt.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>python -m pip install --user pipx
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>python -m pipx ensurepath
</code></pre></div>
</li>
<li>
<p>Use the following to install Poetry in its own isolated space on your system.
    <div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>pipx install poetry
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>pipx ensurepath
</code></pre></div></p>
</li>
<li>
<p>Direct your command prompt to your Discord-HvZ folder.<br />
(Pro tip: You can do this by clicking once in the address bar of File Explorer, typing <code>cmd</code> or <code>powershell</code>, then hitting Enter.)</p>
</li>
<li>
<p>Do you want to install Discord-HvZ with a Python version <em>other</em> than the one currently active? Use the command <a href="https://python-poetry.org/docs/managing-environments/#switching-between-environments" target="_blank">here</a>.</p>
</li>
<li>
<p>Install the dependencies for Discord-HvZ in a virtual environment for this specific folder:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>poetry install
</code></pre></div>
If you're assisting with development, use this instead:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>poetry install --with dev
</code></pre></div></p>
</li>
<li>
<p>Create a file in the install directory called <code>.env</code> and open it in a text editor. Put <code>TOKEN=''</code> inside. You will fill the quotes with a Discord token in a later step.</p>
</li>
<li>
<p>Run the bot:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>poetry run main
</code></pre></div>
The bot should run, then close with an error because there are still setup steps to complete. Keep reading below!</p>
</li>
</ol>
</div>
<div class="tabbed-block">
<p>These instructions assume you have already installed Python programs before and are familiar with Linux.<br />
(I am not very familiar with Linux.)</p>
<ol>
<li>
<p>Download an "Source code" .zip for Linux from <a href="https://github.com/Conner-Anderson/discord-hvz/releases" target="_blank">Releases</a> <strong>OR</strong> download the project directly from the branch you want. Unzip it to a convenient folder you intend to run the bot from.</p>
</li>
<li>
<p>Linux often comes with Python installed. Open a command prompt and use <code>python3 --version</code> to see what you already have installed. You may use any <a href="https://www.python.org/downloads/" target="_blank">Python</a> version from  3.9.7 to 3.10.x. If helping with development, use 3.9.x. (Installing alternate Python versions on Linux is baffling to me. Good luck!)</p>
</li>
<li>
<p>The below steps are how to install the project's dependencies from a <code>pyproject.toml</code> file with <a href="https://python-poetry.org/docs/" target="_blank"><code>Poetry</code></a>. There are other ways to do this which you are welcome to try.</p>
</li>
<li>
<p>To install <code>Poetry</code> without polluting your system with its dependencies, use the following commands in your command prompt to install <a href="https://pypa.github.io/pipx/"><code>pipx</code></a>. The second command lets you use the <a href="https://pypa.github.io/pipx/installation/" target="_blank"><code>pipx</code></a> module directly from the command prompt.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>sudo apt update
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>sudo apt install pipx
</code></pre></div>
</li>
<li>
<p>Use the following to install Poetry in its own isolated space on your system.
    <div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>pipx install poetry
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>pipx ensurepath
</code></pre></div></p>
</li>
<li>
<p>Restart your command prompt and direct it to your Discord-HvZ folder.  </p>
</li>
<li>
<p>Do you want to install Discord-HvZ with a Python version <em>other</em> than the one currently active? Use the command <a href="https://python-poetry.org/docs/managing-environments/#switching-between-environments" target="_blank">here</a>.</p>
</li>
<li>
<p>Install the dependencies for Discord-HvZ in a virtual environement for this specific folder:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>poetry install
</code></pre></div>
If you're assisting with development, use this instead:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>poetry install --with dev
</code></pre></div></p>
</li>
<li>
<p>Create a file in the install directory called <code>.env</code> and open it in a text editor. Put <code>TOKEN=''</code> inside. You will fill the quotes with a Discord token in a later step.</p>
</li>
<li>
<p>Run the bot, with your command prompt directed to the project folder:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>poetry run main
</code></pre></div>
The bot should run, then close with an error because there are still setup steps to complete. Keep reading below!</p>
</li>
</ol>
</div>
</div>
</div>
</details>
<h2 id="creating-a-discord-bot">Creating a Discord Bot<a class="headerlink" href="#creating-a-discord-bot" title="Permanent link">&para;</a></h2>
<h3 id="setting-up-a-bot-account">Setting Up a Bot Account<a class="headerlink" href="#setting-up-a-bot-account" title="Permanent link">&para;</a></h3>
<ol>
<li>Go to the <a href="https://discord.com/developers/applications" target="_blank">Discord Developer Portal</a> and login with your account.</li>
<li>Go to the <strong>Applications</strong> page and create a new application. The name you select here <em>is not</em> the name of the bot. This "application" is more like a set of credentials that the bot will use.</li>
<li>Go to the <strong>Bot</strong> tab of your new Application and click <strong>Add Bot</strong>. Give it the username it will have on your server. Make sure the <strong>Public Bot</strong> switch is <em>off</em>. This bot should be private.</li>
<li>Turn on all <strong>Privileged Gateway Intents</strong>. </li>
<li>Use the <strong>Copy</strong> button on this page to copy the bot token to your clipboard. This is a secret code that lets your bot identify itself to Discord. If someone else gets this token, they can impersonate your bot: never share it.</li>
<li>Go to your installation of Discord-HvZ and open the <code>.env</code> file in a text editor. Your OS may hide files that start with a <code>.</code>, so you may need to show hidden items through the <strong>View</strong> menu of your file browser.</li>
<li>Paste your token between the quotes and save the file. The file should then look something like this: <code>TOKEN='123ABC789a456g6_ad45.816d_d454wd'</code> Your bot now has permission to use the account Discord gives it.</li>
</ol>
<h3 id="inviting-the-bot">Inviting the Bot<a class="headerlink" href="#inviting-the-bot" title="Permanent link">&para;</a></h3>
<ol>
<li>Make sure you have the administrator access on the Discord server you want to run the bot on. You need to be able to invite the bot and manage its permissions.</li>
<li>Go back to the application you created on the <a href="https://discord.com/developers/applications" target="_blank">Discord Developer Portal</a> and to the <strong>URL Generator</strong> page in the <strong>OAuth2</strong> section.</li>
<li>Check boxes until the permissions look like the picture below. These are the permissions your server needs to grant the bot to do its job.
<img alt="Bot Permissions" src="../img/bot_permissions.webp" /></li>
<li>Copy the <strong>Generated URL</strong> and use your browser to follow it. Follow the instructions to invite your bot to the correct server.</li>
<li>If on desktop, go to Discord and turn on <strong>Developer Mode</strong> in the <strong>Advanced</strong> settings menu. Right click your server's icon and <strong>Copy ID</strong> to get the server ID. If using the browser version of Discord, go to your server, then copy the first long number in the address bar.</li>
<li>Open the <code>config.yml</code> file in your installation of Discord-HvZ and find the <code>server_id</code> setting, replacing that ID with that of your server. Now your bot knows which server it should interact with. Note that the bot is not designed to work on multiple servers at once.</li>
</ol>
<h2 id="setting-up-google-sheets">Setting up Google Sheets<a class="headerlink" href="#setting-up-google-sheets" title="Permanent link">&para;</a></h2>
<p>The nicest way the bot displays the player and tag lists is through a Google Sheets document. Anyone who knows how to use a spreadsheet can read and manipulate the information. Unfortunately, Google makes their interface to set this up a bit awkward. Feel free to come back to this step later by disabling the Sheets feature by setting the <a href="../config_options/#google_sheet_export">google_sheets_export</a> option in <code>config.yml</code> to false.</p>
<p>The interfaces on the following Google pages are big and complicated. Take your time and look carefully.</p>
<ol>
<li>Go <a href="https://console.cloud.google.com/projectcreate" target="_blank">here</a> to make a Google Cloud Platform project. The <strong>Location</strong> field is not important.</li>
<li>Use the navigation menu <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg></span> in the top left and go to <strong>APIs &amp; Services</strong> then <strong>Library</strong>. Search for "Google Sheets" and <strong>Enable</strong> the Google Sheets API.</li>
<li>Go back to <strong>APIs &amp; Services</strong>, but this time to the <strong>OAuth consent screen</strong> page. Follow the instructions there to set up a consent screen, only filling in the required information and skipping everything else.</li>
<li>Go to the <strong>Credentials</strong> tab of the <strong>APIs &amp; Services</strong> section and use the <strong>Create Credentials</strong> button to make an <strong>OAuth client ID</strong>. Again, the information you put in here isn't critical.</li>
<li>When done, you'll get the option to <strong>DOWNLOAD JSON</strong>. Look around for a <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 20h14v-2H5m14-9h-4V3H9v6H5l7 7z"/></svg></span> icon and download the file to your installation of Discord-HvZ.</li>
<li>Rename this <code>.json</code> file to <code>credentials.JSON</code>. Now your bot has permission to communicate with Google!</li>
<li>Go to <a href="https://drive.google.com/">Google Drive</a> and create a Sheets document which will be used to display members and tags to your admin or moderator team during the game. Set up its location and permissions appropriately for that purpose.</li>
<li>Add two sheets to this document: one called "Members" and the other called "Tags". If you want to change these names, see the <a href="../config_options/#sheet_names">sheet_names</a> config option.</li>
<li>Copy the sheet ID from the URL in your address bar. It is the code highlighted here: <img alt="Sheet ID" src="../img/sheet_id.png" /></li>
<li>In <code>config.yml</code>, find the <code>sheet_id</code> setting and replace the ID there with yours. Now your bot knows what sheet to send data to.</li>
<li>The first time you launch the bot, it will open a browser window and ask you to log in with a Google Account. The only requirements for this account are that it has edit access to the bot's Google Sheet: it could be a personal account, or one created only for this purpose.</li>
</ol>
<div class="admonition bug">
<p class="admonition-title">Bug</p>
<div class="highlight"><pre><span></span><code>The Google login for Sheets will expire after a few days, even when running. That isn&#39;t supposed to happen unless the bot is offline for days.  
Until this bug is fixed, reboot the bot daily to stay logged in.
</code></pre></div>
</div>
<h2 id="final-steps">Final Steps<a class="headerlink" href="#final-steps" title="Permanent link">&para;</a></h2>
<p>Configure the <code>channel_names</code> section in <code>config.yml</code>. Please see <a href="../config_options/#channel_names">Config Options: channel_names</a> for information. You can change these channels later, but <strong>the bot must have permission to view and post in these channels.</strong></p>
<p>Configure the <code>roles</code> section configured as well. See <a href="../config_options/#role_names">Config Options: role_names</a> for information.
<strong>The bot must have permission to manage these roles</strong>, meaning they have to be lower than it in the role hierarchy in the server settings. </p>
<p>Set the timezone <em>the game</em> is taking place in for the <a href="../config_options/#timezone">timezone</a> setting.</p>
<h3 id="start-the-bot">Start the Bot<a class="headerlink" href="#start-the-bot" title="Permanent link">&para;</a></h3>
<p>Now the time has come to start the bot for real, as described at the end of your chosen install method above. After you do, check if it spits out any alarming errors. If so, scroll up and check that you did everything.</p>
<p>There's still more to do before starting a game of HvZ, so continue to <a href="../server_setup">Server Setup</a>.</p>
<h2 id="updating">Updating<a class="headerlink" href="#updating" title="Permanent link">&para;</a></h2>
<p>To update the bot to a new version, follow the instructions for your installation method below.</p>
<details class="tip">
<summary>Express Install</summary>
<ol>
<li>Backup your entire installation!</li>
<li>Download the Express Install .zip from <a href="https://github.com/Conner-Anderson/discord-hvz/releases">Releases</a> and unzip it somewhere. Copy the <code>.exe</code> file from there to your existing installation, overwriting. </li>
<li>Read the changelog for the version you want in <a href="https://github.com/Conner-Anderson/discord-hvz/releases">Releases</a> and any between it and your current version. In the <strong>Breaking Changes</strong> sections, read the notes. This will tell you if you need to change any other files before starting your bot. For example, if there was a <em>breaking change</em> to <code>config.yml</code>, you'll need to either fix yours, or add your information to the new file.</li>
</ol>
</details>
<details class="warning">
<summary>Advanced Install</summary>
<ol>
<li>Backup your installation folder entirely!</li>
<li>Delete the contents of the original folder.</li>
<li>Read the changelog for the version you want in <a href="https://github.com/Conner-Anderson/discord-hvz/releases">Releases</a> and any between it and your current version. In the <strong>Breaking Changes</strong> sections, read the notes. This will tell you if you need to change any other files before starting your bot. For example, if there was a <em>breaking change</em> to <code>config.yml</code>, you'll need to either fix yours, or add your information to the new file.</li>
<li>Download the source code .zip from <a href="https://github.com/Conner-Anderson/discord-hvz/releases">Releases</a> and unzip it into the original install folder. Copy the following files from the backup into the install folder, accounting for any changes you need from the previous step:<ul>
<li>.env</li>
<li>config.yml</li>
<li>credentials.json</li>
<li>[your_database_name].db</li>
<li>scripts.yml</li>
<li>token.json</li>
<li>any other file you've customized</li>
</ul>
</li>
<li>Update the dependencies by opening a command prompt in the top-level folder: the one containing config.yml. Run <code>poetry install</code>. If you used a non-Poetry method to install dependencies
in the first place, use that method to update based on pyproject.toml.</li>
</ol>
</details>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.sections", "content.tabs.link"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.92b07e13.min.js"></script>
      
    
  </body>
</html>